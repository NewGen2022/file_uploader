<script type="module">
    import { showAddDirForm, showAddFileForm } from '/js/showForms.js';

    document.addEventListener('DOMContentLoaded', () => {
        showAddDirForm();
        showAddFileForm();
    });
</script>

<nav id="sidebar">
    <ul>
        <% if(isDir) {%>
        <li>
            <button id="addDirBtn">
                <svg
                    class="bi bi-folder-plus"
                    width="18"
                    height="18"
                    viewBox="0 0 16 16"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        d="m.5 3 .04.87a1.99 1.99 0 0 0-.342 1.311l.637 7A2 2 0 0 0 2.826 14H9v-1H2.826a1 1 0 0 1-.995-.91l-.637-7A1 1 0 0 1 2.19 4h11.62a1 1 0 0 1 .996 1.09L14.54 8h1.005l.256-2.819A2 2 0 0 0 13.81 3H9.828a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 6.172 1H2.5a2 2 0 0 0-2 2zm5.672-1a1 1 0 0 1 .707.293L7.586 3H2.19c-.24 0-.47.042-.683.12L1.5 2.98a1 1 0 0 1 1-.98h3.672z"
                    />
                    <path
                        d="M13.5 10a.5.5 0 0 1 .5.5V12h1.5a.5.5 0 1 1 0 1H14v1.5a.5.5 0 1 1-1 0V13h-1.5a.5.5 0 0 1 0-1H13v-1.5a.5.5 0 0 1 .5-.5z"
                    />
                </svg>
                New Directory
            </button>
        </li>

        <li>
            <button id="addFileBtn">
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    id="Layer_2"
                    viewBox="0 0 32 32"
                    width="20"
                    height="20"
                >
                    <defs>
                        <style>
                            .cls-1 {
                                fill: none;
                            }
                            .cls-1,
                            .cls-2 {
                                stroke-width: 0px;
                            }
                        </style>
                    </defs>
                    <g id="icons">
                        <g id="Organization">
                            <g id="File">
                                <path
                                    class="cls-2"
                                    d="m16,28h-8V4h8v6c0,1.1.9,2,2,2h6v4s2,0,2,0v-6c0-.3-.1-.5-.3-.7l-7-7c-.2-.2-.4-.3-.7-.3h-10c-1.1,0-2,.9-2,2v24c0,1.1.9,2,2,2h8v-2Zm2-23.6l5.6,5.6h-5.6v-5.6Z"
                                />
                                <polygon
                                    class="cls-2"
                                    points="30 24 26 24 26 20 24 20 24 24 20 24 20 26 24 26 24 30 26 30 26 26 30 26 30 24"
                                />
                                <rect class="cls-1" width="32" height="32" />
                            </g>
                        </g>
                    </g>
                </svg>
                New File
            </button>
        </li>

        <% } %> <% if(isDir && !isRoot) {%>
        <li>
            <button class="share" id="shareDirBtn">
                <svg
                    viewBox="0 0 128 128"
                    width="16"
                    height="16"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <title />
                    <path
                        d="M105,82a23,23,0,0,0-22.49,18.17L41.74,77.29a23,23,0,0,0,0-26.57L82.51,27.83a23,23,0,1,0-.44-6.63l-44.53,25a23,23,0,1,0,0,35.62l44.53,25A23,23,0,1,0,105,82Zm0-76A17,17,0,1,1,88,23,17,17,0,0,1,105,6ZM11,76A17,17,0,0,1,35,52h0A17,17,0,0,1,11,76Zm94,46a17,17,0,1,1,17-17A17,17,0,0,1,105,122Z"
                    /></svg
                >Share Directory
            </button>
        </li>

        <li>
            <button class="delete" id="deleteDirBtn">
                <svg
                    width="16"
                    height="16"
                    viewBox="0 0 448 512"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        d="M432 80h-82.38l-34-56.75C306.1 8.827 291.4 0 274.6 0H173.4C156.6 0 141 8.827 132.4 23.25L98.38 80H16C7.125 80 0 87.13 0 96v16C0 120.9 7.125 128 16 128H32v320c0 35.35 28.65 64 64 64h256c35.35 0 64-28.65 64-64V128h16C440.9 128 448 120.9 448 112V96C448 87.13 440.9 80 432 80zM171.9 50.88C172.9 49.13 174.9 48 177 48h94c2.125 0 4.125 1.125 5.125 2.875L293.6 80H154.4L171.9 50.88zM352 464H96c-8.837 0-16-7.163-16-16V128h288v320C368 456.8 360.8 464 352 464zM224 416c8.844 0 16-7.156 16-16V192c0-8.844-7.156-16-16-16S208 183.2 208 192v208C208 408.8 215.2 416 224 416zM144 416C152.8 416 160 408.8 160 400V192c0-8.844-7.156-16-16-16S128 183.2 128 192v208C128 408.8 135.2 416 144 416zM304 416c8.844 0 16-7.156 16-16V192c0-8.844-7.156-16-16-16S288 183.2 288 192v208C288 408.8 295.2 416 304 416z"
                    />
                </svg>
                Delete Directory
            </button>
        </li>
        <% } %> <% if(!isDir) { %>
        <li>
            <button class="download" id="downloadFileBtn">
                <svg
                    width="16"
                    height="16"
                    viewBox="0 0 512 512"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <title />
                    <g data-name="1" id="_1">
                        <path
                            d="M255.13,385.54a15,15,0,0,1-11.14-5L103.67,224.93a15,15,0,0,1,11.14-25H171V63a15,15,0,0,1,15-15H324.3a15,15,0,0,1,15,15V199.89h56.16a15,15,0,0,1,11.14,25L266.27,380.58A15,15,0,0,1,255.13,385.54ZM148.53,229.89l106.6,118.25L361.74,229.89H324.3a15,15,0,0,1-15-15V78H201V214.89a15,15,0,0,1-15,15Z"
                        />
                        <path
                            d="M390.84,450H119.43a65.37,65.37,0,0,1-65.3-65.29V346.54a15,15,0,0,1,30,0v38.17A35.34,35.34,0,0,0,119.43,420H390.84a35.33,35.33,0,0,0,35.29-35.29V346.54a15,15,0,0,1,30,0v38.17A65.37,65.37,0,0,1,390.84,450Z"
                        />
                    </g>
                </svg>
                Download File
            </button>
        </li>

        <li>
            <button class="share" id="shareFileBtn">
                <svg
                    viewBox="0 0 128 128"
                    width="16"
                    height="16"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <title />
                    <path
                        d="M105,82a23,23,0,0,0-22.49,18.17L41.74,77.29a23,23,0,0,0,0-26.57L82.51,27.83a23,23,0,1,0-.44-6.63l-44.53,25a23,23,0,1,0,0,35.62l44.53,25A23,23,0,1,0,105,82Zm0-76A17,17,0,1,1,88,23,17,17,0,0,1,105,6ZM11,76A17,17,0,0,1,35,52h0A17,17,0,0,1,11,76Zm94,46a17,17,0,1,1,17-17A17,17,0,0,1,105,122Z"
                    />
                </svg>
                Share File
            </button>
        </li>

        <li>
            <button class="delete" id="deleteFileBtn">
                <svg
                    width="16"
                    height="16"
                    viewBox="0 0 448 512"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        d="M432 80h-82.38l-34-56.75C306.1 8.827 291.4 0 274.6 0H173.4C156.6 0 141 8.827 132.4 23.25L98.38 80H16C7.125 80 0 87.13 0 96v16C0 120.9 7.125 128 16 128H32v320c0 35.35 28.65 64 64 64h256c35.35 0 64-28.65 64-64V128h16C440.9 128 448 120.9 448 112V96C448 87.13 440.9 80 432 80zM171.9 50.88C172.9 49.13 174.9 48 177 48h94c2.125 0 4.125 1.125 5.125 2.875L293.6 80H154.4L171.9 50.88zM352 464H96c-8.837 0-16-7.163-16-16V128h288v320C368 456.8 360.8 464 352 464zM224 416c8.844 0 16-7.156 16-16V192c0-8.844-7.156-16-16-16S208 183.2 208 192v208C208 408.8 215.2 416 224 416zM144 416C152.8 416 160 408.8 160 400V192c0-8.844-7.156-16-16-16S128 183.2 128 192v208C128 408.8 135.2 416 144 416zM304 416c8.844 0 16-7.156 16-16V192c0-8.844-7.156-16-16-16S288 183.2 288 192v208C288 408.8 295.2 416 304 416z"
                    />
                </svg>
                Delete File
            </button>
        </li>

        <% } %>
    </ul>
</nav>

<%- include('addDirForm') %>
<!--  -->
<%- include('addFileForm') %>
